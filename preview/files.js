var e,t;e=window,t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var i=n(1);"string"==typeof i&&(i=[[e.i,i,""]]);var r={attributes:{"data-injector":"kwe-nav"},injectType:"singletonStyleTag",insert:"head",singleton:!0};n(3)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,'body,div,html,input,li,ol,p,textarea,ul{margin:0;padding:0}img{border:0}li{list-style:none outside none}a,a:active,a:hover,a:link,a:link:hover,a:visited{text-decoration:none}.kwe-files-top{position:fixed;z-index:999;top:10px;left:50%;width:200px;height:40px;-webkit-transform:translateX(-50%);transform:translateX(-50%);background-color:#00a1d6;border-radius:8px;border:1px solid #ccc;cursor:pointer;text-align:center;line-height:40px}.kwe-files-top:hover{background-color:#00b5e5}.kwe-files-input{display:none}.kwe-files-list{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:40px 0;position:relative}.kwe-files-list:before{content:"图片内容:";position:absolute;left:0;top:-34px;font-size:25px}.kwe-files-list-img:before{content:"图片内容:"}.kwe-files-list-svg:before{content:"svg内容:"}.kwe-files-list-audio:before{content:"音频内容:"}.kwe-files-list-video:before{content:"视频内容:"}.kwe-files-list-other:before{content:"其他内容:"}.kwe-files-img{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:200px;padding:10px;margin:4px;background-color:#ccc}.kwe-files-img,.kwe-files-img-top{display:-webkit-box;display:-ms-flexbox;display:flex}.kwe-files-img-top{-webkit-box-flex:1;-ms-flex:auto;flex:auto;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.kwe-files-img-top>img{width:100%}.kwe-files-svg{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px;margin:4px;background-color:#ccc}.kwe-files-svg>p{width:100%;text-align:left}.kwe-files-svg-top{-webkit-box-flex:1;-ms-flex:auto;flex:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:40px;height:40px;margin-bottom:6px}.kwe-files-svg-top>svg{width:100%;height:100%}',""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i,r,o=e[1]||"",s=e[3];if(!s)return o;if(t&&"function"==typeof btoa){var a=(n=s,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),l=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot).concat(e," */")}));return[o].concat(l).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var a=e[s];null!=a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="(".concat(a[2],") and (").concat(n,")")),t.push(a))}},t}},function(e,t,n){"use strict";var i,r={},o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function a(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function l(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id],s=0;if(o){for(o.refs++;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(x(i.parts[s],t))}else{for(var a=[];s<i.parts.length;s++)a.push(x(i.parts[s],t));r[i.id]={id:i.id,refs:1,parts:a}}}}function c(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var i=n.nc;i&&(e.attributes.nonce=i)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var r=s(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var p,f=(p=[],function(e,t){return p[e]=t,p.filter(Boolean).join("\n")});function u(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=f(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function d(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r&&e.setAttribute("media",r),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var g=null,h=0;function x(e,t){var n,i,r;if(t.singleton){var o=h++;n=g||(g=c(t)),i=u.bind(null,n,o,!1),r=u.bind(null,n,o,!0)}else n=c(t),i=d.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=a(e,t);return l(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r[s.id];c&&(c.refs--,i.push(c))}e&&l(a(e,t),t);for(var p=0;p<i.length;p++){var f=i[p];if(0===f.refs){for(var u=0;u<f.parts.length;u++)f.parts[u]();delete r[f.id]}}}}},function(e,t,n){"use strict";function i(e,t){return void 0===t&&(t=1024),Math.round(10*e/t)/10}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;").replace(/\n/g,"<br>")}function o(e,t){var n;void 0===t&&(t="yyyy/MM/dd"),t=t||"yyyy-MM-dd mm:ss";var i={"M+":(n="number"==typeof e?new Date(e):e).getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};for(var r in/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,n.getFullYear().toString().substr(4-RegExp.$1.length))),i)if(new RegExp("("+r+")").test(t)){var o=1===RegExp.$1.length?i[r]:("00"+i[r]).substr(i[r].toString().length);t=t.replace(RegExp.$1,o)}return t}n.r(t),n(0);var s=function(){function e(e){this.config=e,this.container=e.dom,this.pfx=e.pfx,this.init()}return e.prototype.init=function(){var e=this;this.container.insertAdjacentHTML("beforeend",this.tpl()),this.element={},this.wrap=this.container.querySelector("."+this.pfx+"-wrap");var t=this.container.querySelector("."+this.pfx+"-top"),n=this.container.querySelector("."+this.pfx+"-input");n.addEventListener("change",(function(){for(var t in e.clear(),n.files){var i=n.files[t];i&&(console.log(i),e.update(i).catch((function(e){console.log(e)})))}})),t.addEventListener("click",(function(){n.click()}))},e.prototype.update=function(e){var t=this;return new Promise((function(n,i){var r,o,s=(r=e.type,{type:(o=r.split("/"))[0],subtype:o[1]}),a=s.type,l=s.subtype,c=new FileReader;/image/i.test(a)?/svg/i.test(l)?c.readAsText(e):c.readAsDataURL(e):/image/i.test(a)||c.readAsText(e),c.onload=function(){/image/i.test(a)?/svg/i.test(l)?t.appendDom("svg",t.svgTpl(c.result,e)):t.appendDom("img",t.imgTpl(c.result,e)):/image/i.test(a),n(c)},c.onerror=function(e){i(e)}}))},e.prototype.appendDom=function(e,t){this.element[e]||(this.wrap.insertAdjacentHTML("beforeend",'<div class="'+this.pfx+"-list "+this.pfx+"-list-"+e+'"></div>'),this.element[e]=this.wrap.querySelector("."+this.pfx+"-list-"+e)),this.element[e].insertAdjacentHTML("beforeend",t)},e.prototype.clear=function(){if(this.element)for(var e in this.element)Object.prototype.hasOwnProperty.call(this.element,e)&&(this.element[e].innerHTML="")},e.prototype.imgTpl=function(e,t){return'<div class="'+this.pfx+'-img">\n            <div class="'+this.pfx+'-img-top"><img src="'+e+'"></div>\n            <p class="'+this.pfx+'-img-name">名称： '+r(t.name)+'</p>\n            <p class="'+this.pfx+'-img-size">大小： '+i(t.size)+'kb</p>\n            <p class="'+this.pfx+'-img-date">日期： '+o(t.lastModified)+"</p>\n        </div>"},e.prototype.svgTpl=function(e,t){return'<div class="'+this.pfx+'-svg">\n            <div class="'+this.pfx+'-svg-top">'+e+'</div>\n            <p class="'+this.pfx+'-svg-name">名称： '+r(t.name)+'</p>\n            <p class="'+this.pfx+'-svg-size">大小： '+i(t.size)+'kb</p>\n            <p class="'+this.pfx+'-svg-date">日期： '+o(t.lastModified)+"</p>\n        </div>"},e.prototype.tpl=function(){return'<div class="'+this.pfx+'-wrap">\n            <input class="'+this.pfx+'-input" name="dir" type="file" webkitdirectory="" directory="" multiple="">\n            <div class="'+this.pfx+'-top">点击打开文件夹</div>\n        </div>'},e.prototype.destroy=function(){},e}(),a=function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},l={pfx:"kwe-files"},c=function(){function e(e){this.config=a(a({},l),e),this.file=new s(this.config)}return e.prototype.destroy=function(){this.file.destroy()},e}();t.default=c}]).default},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Files",[],t):"object"==typeof exports?exports.Files=t():e.Files=t();